## 问题分析

**错误信息**: `MEDIA_ERR_SRC_NOT_SUPPORTED` (CODE:4) - 媒体无法加载，服务器返回404错误

**根本原因**: 前端构建的URL路径与后端实际存储目录不匹配

* **前端请求URL**: `http://localhost:9000/media/video/filename.mp4`

* **实际文件位置**: `F:\soft\vidgo3\backend\media\saved_video\filename.mp4`

* **URL映射**: `/media/video/` → `MEDIA_ROOT/video/`

* **实际目录**: `MEDIA_ROOT/saved_video/`

## 修复方案

### 方案1: 修改前端URL构建

**文件**: `F:\soft\vidgo3\frontend\src\views\WatchVideo.vue`
**修改**: 将URL路径从 `/media/video/` 改为 `/media/saved_video/`

```typescript
const videoSrc = computed(() => {
  // ...
  const mediaType = isAudio ? 'saved_audio' : 'saved_video'
  const src = `${BACKEND}/media/${mediaType}/${fileName.value}`
  return src
})
```

### 方案2: 修改后端路由配置

**文件**: `F:\soft\vidgo3\backend\video\urls.py`
**修改**: 调整媒体URL路由，将 `/media/video/` 映射到 `saved_video` 目录

```python
# 替换现有的媒体路由
path('media/video/<path:filename>', MediaActionView.as_view(), name='serve_video'),
path('media/audio/<path:filename>', MediaActionView.as_view(), name='serve_audio'),
```

### 方案3: 修改MediaActionView目录映射

**文件**: `F:\soft\vidgo3\backend\video\views\media.py`
**修改**: 修复 `serve_video` 方法中的目录映射

```python
def serve_video(self, request, filename):
    # 确保正确的目录映射
    file_path = os.path.join(settings.MEDIA_ROOT, "saved_video", filename)
    # ...
```

## 推荐方案

**方案2**: 修改后端路由配置，将媒体URL映射到正确的目录。这个方案不需要修改前端代码，对现有系统影响最小，同时保持了URL的清晰性。

## 验证步骤

1. 重启后端服务
2. 访问前端页面，检查视频是否能正常加载
3. 查看浏览器控制台，确认没有404错误
4. 播放视频，确认播放正常

## 预期效果

* ✅ 视频URL请求返回200状态码

* ✅ 视频文件能被正确找到和加载

* ✅ 视频播放正常，不再显示MEDIA\_ERR\_SRC\_NOT\_SUPPORTED错误

* ✅

